{"content":"# socket\n\n## 整体结构\n\n```java\n// 这些布尔值属性维护了socket的状态\nprivate boolean created = false;\nprivate boolean bound = false;\nprivate boolean connected = false;\nprivate boolean closed = false;\nprivate Object closeLock = new Object();\nprivate boolean shutIn = false;\nprivate boolean shutOut = false;\n```\n\n## 创建\n\n```java\nprivate Socket(SocketAddress address, SocketAddress localAddr,\n               boolean stream) throws IOException {\n    setImpl();\n    // backward compatibility\n    if (address == null)\n        throw new NullPointerException();\n    try {\n        createImpl(stream);\n        if (localAddr != null)\n            bind(localAddr);\n        connect(address);\n    } catch (IOException | IllegalArgumentException | SecurityException e) {\n        try {\n            close();\n        } catch (IOException ce) {\n            e.addSuppressed(ce);\n        }\n        throw e;\n    }\n}\n```","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}