{"content":"# 基本配置\n\n- spring boot 添加依赖\n\n  ```xml\n  <dependency>\n            <groupId>com.baomidou</groupId>\n            <artifactId>mybatis-plus-boot-starter</artifactId>\n            <version>3.1.2</version>\n  </dependency>\n  ```\n\n- 定义mapper接口\n\n```java\npublic interface UserMapper extends BaseMapper<User> { }\n```\n\n- 使用\n\n```java\n@Autowired\n    UserMapper userMapper;\n\n    @Test\n    public void test(){\n        User user = new User();\n        user.setUsername(\"root\");\n        user.setPassword(\"123\");\n        user.setAge(15);\n        user.setCreateTime(LocalDate.now());\n        assertEquals(1,userMapper.insert(user));\n    }\n```\n\n# 查询\n\n- 普通查询\n- 条件构造器查询\n\n  ```java\n  @Test\n    public void test2(){\n        QueryWrapper<User> queryWrapper = new QueryWrapper<>();\n        queryWrapper.like(\"username\",\"roo\")\n                .lt(\"age\",50);\n        var list = userMapper.selectList(queryWrapper);\n        assertEquals(2,list.size());\n        assertEquals(\"root\",list.get(0).getUsername());\n        assertEquals(\"rood\",list.get(1).getUsername());\n    }\n  ```\n\n# 自定义SQL\n\n- 注解\n\n  ```java\n  public interface UserMapper extends BaseMapper<User> {\n\n    @Select(\"SELECT * FROM user \")\n    List<User> selectAll();\n  }\n  ```\n\n- xml 同mybatis\n\n- 分页查询\n\n  - 配置分页插件\n\n    ```java\n    @Bean\n    public PaginationInterceptor paginationInterceptor(){\n        return new PaginationInterceptor();\n    }\n    ```\n\n  - 查询\n\n    ```java\n    @Test\n    public void test4(){\n        Page<User> page = new Page<>(1,2);\n\n        var list = userMapper.selectPage(page,null).getRecords();\n        assertEquals(2,list.size());\n\n    }\n    ```\n\n# 更新\n\n```java\n@Test\npublic void test5(){\n    UpdateWrapper<User> wrapper = new UpdateWrapper<User>().eq(\"username\",\"root\");\n    User user = new User();\n    user.setPassword(\"5678\");\n    userMapper.update(user, wrapper);\n}\n```\n\n# 删除\n\n```java\nUpdateWrapper<User> wrapper = new UpdateWrapper<User>()\n    .eq(\"username\",\"root\");\nuserMapper.delete(wrapper);\n```\n\n# AR模式\n\n- 实体类继承Model\n\n```java\n@Data\npublic class User extends Model<User> {\n\n    private String username;\n\n    private String password;\n\n    private Integer age;\n\n    private LocalDate createTime;\n}\n```\n\n```java\n@Test\n    public void test6(){\n        User user = new User();\n        user.setUsername(\"20190716\");\n        user.setPassword(\"123\");\n        user.setCreateTime(LocalDate.now());\n        user.setAge(111);\n        assertTrue(user.insert());\n    }\n```\n\n# 主键策略\n\n- 设置策略\n\n```java\n@TableId(type = IdType.UUID)\nprivate String username;\n```\n\n```java\nUser user = new User();\nuser.setPassword(\"1111\");\nassertTrue(user.insert());\n```\n\n# 通过Service\n\n\n\n","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}