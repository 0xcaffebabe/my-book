{"content":"# 根据条件查询\n\n```xml\n<select id=\"findById\" resultType=\"wang.ismy.mybatis.entity.User\">\n        SELECT * FROM user WHERE id = #{id}\n    </select>\n```\n\n## 细节\n\n- resultType 属性： 用于指定结果集的类型。\n- parameterType 属性： 用于指定传入参数的类型。\n- sql 语句中使用的`#{}`： 它代表占位符，相当于原来 jdbc 部分所学的?，都是用于执行语句时替换实际的数据\n- `#{}`中的内容：因为参数只有一个，所以此处可以随意写\n\n# 更新\n\n```xml\n<insert id=\"save\" parameterType=\"wang.ismy.mybatis.entity.User\">\n        INSERT INTO user(username,address,sex,birthday) \n        VALUES(#{username},#{address},#{sex},#{birthday})\n    </insert>\n```\n\n```java\nint save(User user);\n```\n\n**需要注意的是，mybatis的SqlSession关闭了事务的默认提交，当进行完更新操作后，需要手动调用**`sqlSession.commit();`\n\n# 模糊查询字符串拼接问题\n\n```sql\nSELECT * FROM user WHERE username LIKE '%' #{name} '%'\n```\n\n# 插入数据后返回ID\n\n```xml\n<insert id=\"save\" parameterType=\"wang.ismy.mybatis.entity.User\">\n\n        <selectKey keyColumn=\"id\" keyProperty=\"id\" resultType=\"int\">\n        select last_insert_id();\n        </selectKey>\n        INSERT INTO user(username,address,sex,birthday) VALUES(#{username},#{address},#{sex},#{birthday})\n    </insert>\n```\n\n# 使用resultMap\n\n```xml\n<resultMap id=\"userMap\" type=\"wang.ismy.mybatis.entity.User\">\n        <!--主键-->\n        <id column=\"id\" property=\"id\"/>\n        <!--非主键-->\n        <result column=\"username\" property=\"username\"/>\n    </resultMap>\n\n<select id=\"findAll\" resultMap=\"userMap\">\n    select * from user\n</select>\n```\n\n# Properties标签\n\n```xml\n<properties resource=\"jdbc.cfg\">\n\n    </properties>\n```\n\n# typeAliases标签\n\n```xml\n<typeAliases>\n        <!--指定别名，不区分大小写-->\n        <typeAlias type=\"wang.ismy.mybatis.entity.User\" alias=\"user\"/>\n\n        <!--指定该包下的所有类为别名，不区分大小写-->\n        <package name=\"wang.ismy.mybatis.entity\"/>\n    </typeAliases>\n```\n\n# mapper\n\n```xml\n<mappers>\n        <package name=\"wang.ismy.mybatis.dao\">\n    </mappers>\n```\n","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}