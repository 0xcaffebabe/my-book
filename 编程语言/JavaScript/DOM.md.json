{"content":"# DOM\n\n> DOM是W3C组织制定的一套处理 html和xml文档的规范\n\n## DOM树\n\n![202001232031](/assets/202001232031.png)\n\n- 核心DOM\n\n  - Document：文档对象\n  - Element：元素对象\n  - Attribute：属性对象\n  - Text：文本对象\n  - Comment:注释对象\n  - Node：节点对象，其他5个的父对象\n\n- XML DOM\n\n- HTML DOM\n\n## 获取元素\n\n### 根据ID获取\n\n```javascript\n语法：document.getElementById(id)\n作用：根据ID获取元素对象\n参数：id值，区分大小写的字符串\n返回值：元素对象 或 null\n```\n\n### 根据标签名获取元素\n\n```javascript\n语法：document.getElementsByTagName('标签名') 或者 element.getElementsByTagName('标签名') \n作用：根据标签名获取元素对象\n参数：标签名\n返回值：元素对象集合（伪数组，数组元素是元素对象）\n```\n\n### 根据name属性获取\n\n```javascript\ndocument.getElementsByName('name');\n```\n\n### H5新增获取元素方式\n\n```javascript\ndocument.getElementsByClassName('className');\ndocument.querySelector('selector'); // 根据指定选择器返回第一个元素\ndocument.querySelectorAll('selector'); // 根据指定选择器返回全部\n```\n\n### 获取特殊元素\n\n```javascript\ndocument.body; // 返回body对象\ndocument.documentElement; // 返回html对象\n```\n\n## 操作元素\n\n### 获取/改变元素内容\n\n```javascript\nelement.innerText; // 不包括html标签与空格和换行\nelement.innerHTML; // 包括html标签与空格换行\n```\n\n### 表单元素的属性操作\n\n```\ntype/value/checked/selected/disabled\n```\n\n### 样式属性操作\n\n```javascript\nelement.style.backgroundColor; // 直接修改样式\nelement.className; // 修改类属性\n```\n\n### 自定义属性操作\n\n```javascript\nelement.getAttribute('name'); // 获取自定义属性\nelement.removeAttribute('name'); // 移除自定义属性\nelement.setAttribute('name','value'); // 设置自定义属性\n```\n\n### HTML5自定义属性\n\n```html\n<div getTime=\"20\" data-index=\"2\" data-list-name=\"andy\"></div>\n```\n\n获取方法\n\n```javascript\n// 可以使用获取自定义属性的方式获取\nconsole.log(div.getAttribute('data-index'));\nconsole.log(div.getAttribute('data-list-name'));\n// 也可以使用专用API\nconsole.log(div.dataset.index);\nconsole.log(div.dataset['index']);\n// 需要使用驼峰命名\nconsole.log(div.dataset.listName);\nconsole.log(div.dataset['listName']);\n```\n\n###  classList 属性\n\n```js\nelement.classList.add('current');\nelement.classList.remove('current');\nelement.classList.toggle('current');\n```\n\n## 节点操作\n\n网页中的所有内容都是节点（标签、属性、文本、注释等），在DOM 中，节点使用 node 来表示\n\nHTML DOM 树中的所有节点均可通过 JavaScript 进行访问，所有 HTML 元素（节点）均可被修改，也可以创建或删除\n\n节点至少拥有nodeType（节点类型）、nodeName（节点名称）和nodeValue（节点值）这三个基本属性\n\n- 元素节点 nodeType=1\n- 属性节点 nodeType=2\n- 文本节点 nodeType=3（包括文字 空格 换行）\n\n### 父节点\n\n```javascript\n// 获取该节点最近的父节点\nnode.parentNode;\n```\n\n### 子节点\n\n```javascript\n// 获取所有子节点，包含 元素节点 文本节点等等\nnode.childNodes;\n// 只返回元素节点\nnode.children;\n```\n\n```javascript\n// 返回子节点，包含 元素节点 文本节点等等\nnode.firstChild;\nnode.lastChild;\n// 返回元素子节点\nnode.firstElementChild;\nnode.lastElementChild;\n```\n\n### 兄弟节点\n\n```javascript\n// 下一个\nnode.nextSibling;\n// 前一个\nnode.previousSibling;\nnode.nextElementSibling;\nnode.previousElementSibling;\n```\n\n### 创建元素\n\n```javascript\ndocument.write(); // 创建元素  如果页面文档流加载完毕，再调用这句话会导致页面重绘\nnode.innerHTML(); // 直接写HTML来创建元素\ndocument.createElement('tagName');// 创建成功将返回一个节点\n```\n\n### 节点新增\n\n```javascript\nnode.appendChild()\nnode.insertBefore(child,指定元素)\ndocument.replaceChild()\n```\n\n### 节点删除\n\n```javascript\n// 从 node节点中删除一个子节点，返回删除的节点\nnode.removeChild(childNode)\n```\n\n### 节点复制\n\n```javascript\n// 参数true深拷贝，false浅拷贝\nnode.cloneNode();\n```\n\n## 元素偏移量 offset 系列\n\n![202001281519](/assets/202001281519.png)\n\noffset\n\n- offset 可以得到任意样式表中的样式值\n- offset 系列获得的数值是没有单位的\n- offsetWidth 包含padding+border+width\n- offsetWidth 等属性是只读属性，只能获取不能赋值\n\nstyle\n\n- style 只能得到行内样式表中的样式值\n- style.width 获得的是带有单位的字符串\n- style.width 获得不包含padding和border 的值\n- style.width 是可读写属性，可以获取也可以赋值\n\n## 元素可视区 client 系列\n\n![202001281819](/assets/202001281819.png)\n\n![202001281820](/assets/202001281820.png)\n\n## 元素滚动 scroll 系列\n\n使用 scroll 系列的相关属性可以动态的得到该元素的大小、滚动距离等\n\n![202001281844](/assets/202001281844.png)\n\n![202001281907](/assets/202001281907.png)\n\n如果浏览器的高（或宽）度不足以显示整个页面时，会自动出现滚动条。当滚动条向下滚动时，页面上面被隐藏掉的高度，我们就称为页面被卷去的头部。滚动条在滚动时会触发 onscroll事件\n\n## 三大系列总结\n\n1. offset系列 经常用于获得元素位置 offsetLeft offsetTop\n2. client经常用于获取元素大小 clientWidth clientHeight\n3. scroll 经常用于获取滚动距离 scrollTop scrollLeft\n4. 注意页面滚动的距离通过 window.pageXOffset 获得\n","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}