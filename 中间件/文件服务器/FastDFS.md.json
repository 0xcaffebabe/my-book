{"content":"# FastDFS\n\n- 分布式文件系统\n\n>分布式文件系统（Distributed File System）是指文件系统管理的物理存储资源不一定直接连接在本地节点上，而是通过计算机网络与节点(可简单的理解为一台计算机)相连\n\n- NFS\n- GFS\n- HDFS\n\n## 架构\n\n- Tracker：负责调度\n- Storage：负责存储\n- group：组，也称为卷。同组内服务器上的文件是完全相同的\n\n## 上传流程\n\n![202061141754](/assets/202061141754.png)\n\n## 安装\n\n```shell\ndocker pull delron/fastdfs\n```\n\n- 安装Tracker\n\n```shell\ndocker run -d --network=host --name tracker -v /docker/fastdfs/tracker:/var/fdfs delron/fastdfs tracker\n```\n\n- 安装Storage\n\n```shell\ndocker run -d --network=host --name storage -e TRACKER_SERVER=192.168.1.56:22122 -v /docker/fastdfs/storage:/var/fdfs -e GROUP_NAME=group1 delron/fastdfs storage\n```\n\n## JAVA API\n\n- 依赖\n\n```xml\n<dependency>\n    <groupId>com.github.tobato</groupId>\n    <artifactId>fastdfs-client</artifactId>\n    <version>${fastDFS.client.version}</version>\n</dependency>\n```\n\n- 配置\n\n```yml\nfdfs:\n  so-timeout: 1501 # 超时时间\n  connect-timeout: 601 # 连接超时时间\n  thumb-image: # 缩略图\n    width: 60\n    height: 60\n  tracker-list: # tracker地址\n    - my-pc:22122\n\nimage:\n  adress: http://my-pc:8888/\n```\n\n- 使用\n\n```java\nStorePath storePath = storageClient.uploadImageAndCrtThumbImage(file.getInputStream(), file.getSize(),\"扩展名\", null);\n```\n\n","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}