{"content":"# 管理\n\n## MySQL 组件\n\n- 服务器\n  - mysqld 服务器主程序\n  - mysql_safe 启动和监控\n  - mysql_multi 同一主机管理多台MySQL\n- 客户端和util\n  - mysql 客户端交互式程序\n  - mysqladmin 管理数据库\n  - mysqldump 备份或复制\n  - mysqlcheck 检查分析优化或者修复表 myisamchk只适用于myisam\n\n## 数据目录\n\n位置：指定`datadir`配置项\n\n### 结构\n\n![屏幕截图 2020-09-03 104442](/assets/屏幕截图%202020-09-03%20104442.png)\n\n数据库的表示：文件目录\n\n数据表的表示：\n\n- InnoDB\n  - 系统表空间：只有一个.frm文件\n  - 独立表空间: .frm文件与索引文件.ibd\n- MyISAM\n  - .frm 表结构描述\n  - .MYD 数据文件\n  - .MYI 索引文件\n- Memory\n  - 只有.frm存储表结构\n\n将`lower_case_table_name`环境变量设置为1 MySQL 在操作表时 会将表名自动转换为小写字母\n\n影响表最大长度的因素：操作系统文件大小 存储引擎内部限制 \n\n视图与触发器：\n\n- 视图\n  - .frm \n- 触发器\n  - .TRG 与 .TRN\n\n状态与日志文件：\n\n![屏幕截图 2020-09-03 111412](/assets/屏幕截图%202020-09-03%20111412.png)\n\n进程PID文件：写入进程PID 其他应用可以读取mysql的进程ID 从而进行一些操作\n\n### 迁移数据目录\n\n迁移之前需要停止服务器\n\n![屏幕截图 2020-09-03 112419](/assets/屏幕截图%202020-09-03%20112419.png)\n![屏幕截图 2020-09-03 112433](/assets/屏幕截图%202020-09-03%20112433.png)\n\n## 常规管理\n\n### 用户系统\n\n```sql\nSELECT Host, User,authentication_string,plugin FROM mysql.user; -- 查看用户信息\nSET PASSWORD FOR root = 'root'; -- 修改密码\n```\n\n### 启动与运行\n\n- 以非root用户运行\n- 每次都以同一个用户身份运行\n\n```sh\nmysqladmin -p -u root shutdown # 关闭\n```\n\n### 设置系统变量\n\n```ini\n# my.ini\n[mysqld]\nmax_connection=200 # 下划线跟-可以互换\ninnodb_buffer_pool_size=16M # 单位不填默认为字节\n```\n\n### 插件\n\n```ini\n# my.ini\n[mysqld]\nplugin-load=xxx,xxx\n```\n\n### 引擎\n\n```sql\nSELECT ENGINE, SUPPORT FROM INFORMATION_SCHEMA.ENGINES; -- 查看引擎\n```\n\n配置默认引擎：`default_storage_engine` 参数\n\n## 访问控制与安全\n\n## 维护 备份 复制","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}