{"content":"# 问题记录\n\n## DruidDatasource在并发环境下卡死的问题\n\n在测试一个并发写入时，当线程数超过一定量时，发现线程阻塞住了。使用VisualVM 分析线程栈\n\n发现线程在druid相关代码附近处于wating状态：\n\n![屏幕截图 2021-06-10 102911](/assets/屏幕截图%202021-06-10%20102911.png)\n\ndruid 默认的最大连接为8 将其调大一点即可。\n\n```yml\nmax-active: 50\nremove-abandoned: true\n```\n\n## Kafka 消费异常没有手动提交导致的问题\n\n假设本次偏移量消费到28 抛出异常 没有手动提交偏移量\n\n该消费者下次迭代也会从29开始消费 为解决这个问题 所以只能新起消费者来替代此消费者\n","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}