import{A as bt,d as St,c as Et,o as Ft}from"./vendor.db50f025.js";import{a as yt}from"./index.6ad25096.js";import{_ as Wt}from"./index.9ed97788.js";var vt={exports:{}};/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */(function(B){window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var T=[void 0],O="zero-timeout-message",Z=function(k){var S=T.length;return T.push(k),window.postMessage(O+S.toString(36),"*"),S};return window.addEventListener("message",function(k){if(!(typeof k.data!="string"||k.data.substr(0,O.length)!==O)){k.stopImmediatePropagation();var S=parseInt(k.data.substr(O.length),36);!T[S]||(T[S](),T[S]=void 0)}},!0),window.clearImmediate=function(k){!T[k]||(T[k]=void 0)},Z}()||function(T){window.setTimeout(T,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(T){window.clearTimeout(T)}}()),function(G){var z=function(){var o=document.createElement("canvas");if(!o||!o.getContext)return!1;var x=o.getContext("2d");return!(!x||!x.getImageData||!x.fillText||!Array.prototype.some||!Array.prototype.push)}(),T=function(){if(!!z){for(var o=document.createElement("canvas").getContext("2d"),x=20,y,e;x;){if(o.font=x.toString(10)+"px sans-serif",o.measureText("\uFF37").width===y&&o.measureText("m").width===e)return x+1;y=o.measureText("\uFF37").width,e=o.measureText("m").width,x--}return 0}}(),O=function(S){if(Array.isArray(S)){var o=S.slice();return o.splice(0,2),o}else return[]},Z=function(o){for(var x,y,e=o.length;e;)x=Math.floor(Math.random()*e),y=o[--e],o[e]=o[x],o[x]=y;return o},F={},k=function(o,x){if(!z)return;var y=Math.floor(Math.random()*Date.now());Array.isArray(o)||(o=[o]),o.forEach(function(l,t){if(typeof l=="string"){if(o[t]=document.getElementById(l),!o[t])throw new Error("The element id specified is not found.")}else if(!l.tagName&&!l.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var e={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(x)for(var N in x)N in e&&(e[N]=x[N]);if(typeof e.weightFactor!="function"){var mt=e.weightFactor;e.weightFactor=function(t){return t*mt}}if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(t){return 1-Math.sin(t)};break;case"diamond":e.shape=function(t){var a=t%(2*Math.PI/4);return 1/(Math.cos(a)+Math.sin(a))};break;case"square":e.shape=function(t){return Math.min(1/Math.abs(Math.cos(t)),1/Math.abs(Math.sin(t)))};break;case"triangle-forward":e.shape=function(t){var a=t%(2*Math.PI/3);return 1/(Math.cos(a)+Math.sqrt(3)*Math.sin(a))};break;case"triangle":case"triangle-upright":e.shape=function(t){var a=(t+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(a)+Math.sqrt(3)*Math.sin(a))};break;case"pentagon":e.shape=function(t){var a=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(a)+.726543*Math.sin(a))};break;case"star":e.shape=function(t){var a=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-a)+3.07768*Math.sin(2*Math.PI/10-a)):1/(Math.cos(a)+3.07768*Math.sin(a))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var n=e.gridSize,st=n-e.maskGapWidth,U=Math.abs(e.maxRotation-e.minRotation),J=Math.abs(Math.floor(e.rotationSteps)),K=Math.min(e.maxRotation,e.minRotation),P,I,E,Y,$,lt,D;function ft(l,t){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(t-l)+l).toFixed()+"%)"}switch(e.color){case"random-dark":D=function(){return ft(10,50)};break;case"random-light":D=function(){return ft(50,90)};break;default:typeof e.color=="function"&&(D=e.color);break}var H;typeof e.fontWeight=="function"&&(H=e.fontWeight);var Q=null;typeof e.classes=="function"&&(Q=e.classes);var V=!1,tt=[],et,dt=function(t){var a=t.currentTarget,r=a.getBoundingClientRect(),s,i;t.touches?(s=t.touches[0].clientX,i=t.touches[0].clientY):(s=t.clientX,i=t.clientY);var f=s-r.left,c=i-r.top,v=Math.floor(f*(a.width/r.width||1)/n),d=Math.floor(c*(a.height/r.height||1)/n);return tt[v][d]},ct=function(t){var a=dt(t);if(et!==a){if(et=a,!a){e.hover(void 0,void 0,t);return}e.hover(a.item,a.dimension,t)}},ut=function(t){var a=dt(t);!a||(e.click(a.item,a.dimension,t),t.preventDefault())},at=[],gt=function(t){if(at[t])return at[t];var a=t*8,r=a,s=[];for(t===0&&s.push([Y[0],Y[1],0]);r--;){var i=1;e.shape!=="circle"&&(i=e.shape(r/a*2*Math.PI)),s.push([Y[0]+t*i*Math.cos(-r/a*2*Math.PI),Y[1]+t*i*Math.sin(-r/a*2*Math.PI)*e.ellipticity,r/a*2*Math.PI])}return at[t]=s,s},rt=function(){return e.abortThreshold>0&&new Date().getTime()-lt>e.abortThreshold},wt=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:U===0?K:J>0?K+Math.floor(Math.random()*J)*U/(J-1):K+Math.random()*U},pt=function(t,a,r,s){var i=e.weightFactor(a);if(i<=e.minSize)return!1;var f=1;i<T&&(f=function(){for(var ot=2;ot*i<T;)ot+=2;return ot}());var c;H?c=H(t,a,i,s):c=e.fontWeight;var v=document.createElement("canvas"),d=v.getContext("2d",{willReadFrequently:!0});d.font=c+" "+(i*f).toString(10)+"px "+e.fontFamily;var C=d.measureText(t).width/f,u=Math.max(i*f,d.measureText("m").width,d.measureText("\uFF37").width)/f,g=C+u*2,w=u*3,p=Math.ceil(g/n),W=Math.ceil(w/n);g=p*n,w=W*n;var h=-C/2,m=-u*.4,M=Math.ceil((g*Math.abs(Math.sin(r))+w*Math.abs(Math.cos(r)))/n),b=Math.ceil((g*Math.abs(Math.cos(r))+w*Math.abs(Math.sin(r)))/n),_=b*n,X=M*n;v.setAttribute("width",_),v.setAttribute("height",X),d.scale(1/f,1/f),d.translate(_*f/2,X*f/2),d.rotate(-r),d.font=c+" "+(i*f).toString(10)+"px "+e.fontFamily,d.fillStyle="#000",d.textBaseline="middle",d.fillText(t,h*f,(m+i*.5)*f);var j=d.getImageData(0,0,_,X).data;if(rt())return!1;for(var ht=[],L=b,R,it,nt,A=[M/2,b/2,M/2,b/2];L--;)for(R=M;R--;){nt=n;t:for(;nt--;)for(it=n;it--;)if(j[((R*n+nt)*_+(L*n+it))*4+3]){ht.push([L,R]),L<A[3]&&(A[3]=L),L>A[1]&&(A[1]=L),R<A[0]&&(A[0]=R),R>A[2]&&(A[2]=R);break t}}return{mu:f,occupied:ht,bounds:A,gw:b,gh:M,fillTextOffsetX:h,fillTextOffsetY:m,fillTextWidth:C,fillTextHeight:u,fontSize:i}},Mt=function(t,a,r,s,i){for(var f=i.length;f--;){var c=t+i[f][0],v=a+i[f][1];if(c>=I||v>=E||c<0||v<0){if(!e.drawOutOfBound)return!1;continue}if(!P[c][v])return!1}return!0},Tt=function(t,a,r,s,i,f,c,v,d,C){var u=r.fontSize,g;D?g=D(s,i,u,f,c,C):g=e.color;var w;H?w=H(s,i,u,C):w=e.fontWeight;var p;Q?p=Q(s,i,u,C):p=e.classes,o.forEach(function(W){if(W.getContext){var h=W.getContext("2d"),m=r.mu;h.save(),h.scale(1/m,1/m),h.font=w+" "+(u*m).toString(10)+"px "+e.fontFamily,h.fillStyle=g,h.translate((t+r.gw/2)*n*m,(a+r.gh/2)*n*m),v!==0&&h.rotate(-v),h.textBaseline="middle",h.fillText(s,r.fillTextOffsetX*m,(r.fillTextOffsetY+u*.5)*m),h.restore()}else{var M=document.createElement("span"),b="";b="rotate("+-v/Math.PI*180+"deg) ",r.mu!==1&&(b+="translateX(-"+r.fillTextWidth/4+"px) scale("+1/r.mu+")");var _={position:"absolute",display:"block",font:w+" "+u*r.mu+"px "+e.fontFamily,left:(t+r.gw/2)*n+r.fillTextOffsetX+"px",top:(a+r.gh/2)*n+r.fillTextOffsetY+"px",width:r.fillTextWidth+"px",height:r.fillTextHeight+"px",lineHeight:u+"px",whiteSpace:"nowrap",transform:b,webkitTransform:b,msTransform:b,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};g&&(_.color=g),M.textContent=s;for(var X in _)M.style[X]=_[X];if(d)for(var j in d)M.setAttribute(j,d[j]);p&&(M.className+=p),W.appendChild(M)}})},xt=function(t,a,r,s,i){if(!(t>=I||a>=E||t<0||a<0)){if(P[t][a]=!1,r){var f=o[0].getContext("2d");f.fillRect(t*n,a*n,st,st)}V&&(tt[t][a]={item:i,dimension:s})}},It=function(t,a,r,s,i,f){var c=i.occupied,v=e.drawMask,d;v&&(d=o[0].getContext("2d"),d.save(),d.fillStyle=e.maskColor);var C;if(V){var u=i.bounds;C={x:(t+u[3])*n,y:(a+u[0])*n,w:(u[1]-u[3]+1)*n,h:(u[2]-u[0]+1)*n}}for(var g=c.length;g--;){var w=t+c[g][0],p=a+c[g][1];w>=I||p>=E||w<0||p<0||xt(w,p,v,C,f)}v&&d.restore()},Ct=function l(t){var a,r,s;Array.isArray(t)?(a=t[0],r=t[1]):(a=t.word,r=t.weight,s=t.attributes);var i=wt(),f=O(t),c=pt(a,r,i,f);if(!c||rt())return!1;if(!e.drawOutOfBound&&!e.shrinkToFit){var v=c.bounds;if(v[1]-v[3]+1>I||v[2]-v[0]+1>E)return!1}for(var d=$+1,C=function(w){var p=Math.floor(w[0]-c.gw/2),W=Math.floor(w[1]-c.gh/2),h=c.gw,m=c.gh;return Mt(p,W,h,m,c.occupied)?(Tt(p,W,c,a,r,$-d,w[2],i,s,f),It(p,W,h,m,c,t),!0):!1};d--;){var u=gt($-d);e.shuffle&&(u=[].concat(u),Z(u));var g=u.some(C);if(g)return!0}return e.shrinkToFit?(Array.isArray(t)?t[1]=t[1]*3/4:t.weight=t.weight*3/4,l(t)):!1},q=function(t,a,r){if(a)return!o.some(function(s){var i=new CustomEvent(t,{detail:r||{}});return!s.dispatchEvent(i)},this);o.forEach(function(s){var i=new CustomEvent(t,{detail:r||{}});s.dispatchEvent(i)},this)},kt=function(){var t=o[0];if(t.getContext)I=Math.ceil(t.width/n),E=Math.ceil(t.height/n);else{var a=t.getBoundingClientRect();I=Math.ceil(a.width/n),E=Math.ceil(a.height/n)}if(!!q("wordcloudstart",!0)){Y=e.origin?[e.origin[0]/n,e.origin[1]/n]:[I/2,E/2],$=Math.floor(Math.sqrt(I*I+E*E)),P=[];var r,s,i;if(!t.getContext||e.clearCanvas)for(o.forEach(function(h){if(h.getContext){var m=h.getContext("2d");m.fillStyle=e.backgroundColor,m.clearRect(0,0,I*(n+1),E*(n+1)),m.fillRect(0,0,I*(n+1),E*(n+1))}else h.textContent="",h.style.backgroundColor=e.backgroundColor,h.style.position="relative"}),r=I;r--;)for(P[r]=[],s=E;s--;)P[r][s]=!0;else{var f=document.createElement("canvas").getContext("2d");f.fillStyle=e.backgroundColor,f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data,v=t.getContext("2d").getImageData(0,0,I*n,E*n).data;r=I;for(var d,C;r--;)for(P[r]=[],s=E;s--;){C=n;t:for(;C--;)for(d=n;d--;)for(i=4;i--;)if(v[((s*n+C)*I*n+(r*n+d))*4+i]!==c[i]){P[r][s]=!1;break t}P[r][s]!==!1&&(P[r][s]=!0)}v=f=c=void 0}if(e.hover||e.click){for(V=!0,r=I+1;r--;)tt[r]=[];e.hover&&t.addEventListener("mousemove",ct),e.click&&(t.addEventListener("click",ut),t.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),t.addEventListener("wordcloudstart",function h(){t.removeEventListener("wordcloudstart",h),t.removeEventListener("mousemove",ct),t.removeEventListener("click",ut),et=void 0})}i=0;var u,g;e.wait!==0?(u=window.setTimeout,g=window.clearTimeout):(u=window.setImmediate,g=window.clearImmediate);var w=function(m,M){o.forEach(function(b){b.addEventListener(m,M)},this)},p=function(m,M){o.forEach(function(b){b.removeEventListener(m,M)},this)},W=function h(){p("wordcloudstart",h),g(F[y])};w("wordcloudstart",W),F[y]=u(function h(){if(i>=e.list.length){g(F[y]),q("wordcloudstop",!1),p("wordcloudstart",W),delete F[y];return}lt=new Date().getTime();var m=Ct(e.list[i]),M=!q("wordclouddrawn",!0,{item:e.list[i],drawn:m});if(rt()||M){g(F[y]),e.abort(),q("wordcloudabort",!1),q("wordcloudstop",!1),p("wordcloudstart",W),delete F[y];return}i++,F[y]=u(h,e.wait)},e.wait)}};kt()};k.isSupported=z,k.minFontSize=T,k.stop=function(){if(F)for(var o in F)window.clearImmediate(F[o])},B.exports?B.exports=k:G.WordCloud=k}(bt)})(vt);var Pt=vt.exports;const At=St({setup(){},async created(){let B=await yt.getWordCloud();B.splice(1e3);let G={list:B};Pt(this.$refs.wc,G)}}),_t={class:"container",ref:"wc"};function Rt(B,G,z,T,O,Z){return Ft(),Et("canvas",_t,null,512)}var Gt=Wt(At,[["render",Rt],["__scopeId","data-v-d711325e"]]);export{Gt as default};
