{"content":"# SVN\n\n## 概念\n\n- repository（源代码库）:源代码统一存放的地方\n- Checkout（检出）:当你手上没有源代码的时候，你需要从repository checkout一份\n- Commit（提交）:当你已经修改了代码，你就需要Commit到repository\n- Update (更新):当你已经Checkout了一份源代码， Update一下你就可以和Repository上的源代码同步，你手上的代码就会有最新的变更\n\n## 生命周期\n\n- 创建版本库：一个集中的空间，用于存放开发者所有的工作成果\n- 检出（checkout）：类似于git clone\n- 更新（update）:git push\n- 提交(commit)\n- 复查变化(status)\n- 回滚提交(revert)\n- 解决冲突(merge)\n\n## 启动\n\n```sh\nsvnadmin create /opt/svn/rp1 # 创建版本库\n```\n\n配置\n\n```conf\n# /opt/svn/rp1/conf/authz\n[/]\nadmin = rw\n```\n```conf\n# /opt/svn/rp1/conf/passwd\n[users]\nadmin = admin\n```\n```conf\n# /opt/svn/rp1/conf/svnserver.conf\n[general]\nanon-access = none\nauth-access = write\npassword-db = passwd\nauthz-db = authz\n```\n\n## 检出\n\n```sh\nsvn checkout svn://localhost/ --username=admin\n```\n\n## 提交\n\n```sh\nsvn status # 检查目前版本跟踪文件情况\nsvn add readme.md # 添加文件到暂存区\nsvn commit -m \"first commit\"\n```\n\n## 冲突解决\n\n当发生冲突时 无法进行commit 必须进行update解决冲突后再次commit\n\n```sh\nroot@my-win:~/svn# svn commit -m \"kkk commit\"\nSending        readme.md\nTransmitting file data .done\nCommitting transaction...\nsvn: E160028: Commit failed (details follow):\nsvn: E160028: File '/readme.md' is out of date\nroot@my-win:~/svn# svn update\nUpdating '.':\nC    readme.md\nUpdated to revision 2.\nSummary of conflicts:\n  Text conflicts: 1\nConflict discovered in file 'readme.md'.\nSelect: (p) postpone, (df) show diff, (e) edit file, (m) merge,\n        (mc) my side of conflict, (tc) their side of conflict,\n        (s) show all options: mc\nResolved conflicted state of 'readme.md'\nSummary of conflicts:\n  Text conflicts: 0 remaining (and 1 already resolved)\n```\n\n## 版本回退\n\n```sh\nsvn revert readme.md # 回退某一文件\n```\n\n## 查看\n\n```sh\nsvn log # 输出历史日志信息\nsvn diff -r 1 readme.md # 输出与版本号为1diff的文件内容\nsvn cat -r 1 readme.md # 查看某一特定版本的文件内容\nsvn list svn://localhost/ # 输出版本库文件列表\n```\n","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}