{"content":"# Maven\n\n## 简介\n\n项目管理工具。 基于项目对象模型（POM）， 可以通过一小段描述信息管理项目的构建。\n\n## 下载与安装\n\n下载地址'<https://maven.apache.org/>'\n\n- 配置环境变量\n\n新增'M2_HOME'\n\n![批注 2019-06-20 131454](/assets/批注%202019-06-20%20131454.png)\n\n将`%M2_HOME%\\bin`添加到Path环境变量下\n\n## 目录结构\n\n- src\n\n  - main\n\n    - java\n\n      - package\n\n    - resources\n\n  - test\n\n    - java\n\n      - package\n\n    - resources\n\n### 一些喜欢忘记的知识点\n\n- 指定JDK版本：\n\n```xml\n<properties>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <encoding>UTF-8</encoding>\n        <java.version>12</java.version>\n        <maven.compiler.source>12</maven.compiler.source>\n        <maven.compiler.target>12</maven.compiler.target>\n</properties>\n```\n\n## 常用命令\n\n```shell\nmvn clean # 清理target目录下的类文件\nmvn install # 将本项目安装到本地仓库\nmvn compile # 编译\nmvn test # 执行测试\nmvn package #打包\n```\n\n### 添加依赖\n\n```xml\n<dependencies>\n        <dependency>\n            <groupId>junit</groupId>\n            <artifactId>junit</artifactId>\n            <version>4.12</version>\n            <scope>test</scope>\n        </dependency>\n\n</dependencies>\n```\n\n### 自动生成目录结构\n\n```shell\nmvn archetype:generate\n```\n\n## 坐标与构件\n\n## 仓库\n\n- 本地仓库\n\n  - 修改本地仓库地址 ![批注 2019-06-21 135628](/assets/批注%202019-06-21%20135628.png)\n\n- 远程仓库\n\n- 镜像仓库\n\n  - 配置镜像仓库 ![批注 2019-06-21 135418](/assets/批注%202019-06-21%20135418.png)\n\n## 生命周期\n\n- clean 清理项目\n\n  - pre-clean\n  - clean\n  - post-clean\n\n- default 构件项目\n\n  - compile\n  - test\n  - package\n  - install\n  - deploy\n\n- site 生成项目站点\n\n  - pre-site\n  - site\n  - post-site\n  - site-deploy 打包插件\n\n    ```xml\n    <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-source-plugin</artifactId>\n                <version>3.0.0</version>\n                <configuration>\n                    <attach>true</attach>\n                </configuration>\n                <executions>\n                    <execution>\n                        <phase>compile</phase>\n                        <goals>\n                            <goal>jar-no-fork</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n    ```\n\n    ## POM元素\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n\n    <modelVersion>pom版本</modelVersion>\n\n\n    <groupId>反写的网址+项目名</groupId>\n    <artifactId>项目名+模块名</artifactId>\n    <!--    第一个 表示大版本号-->\n    <!--    第二个 表示分支版本号-->\n    <!--    第三个 表示小版本-->\n    <!--    snapshot 快照-->\n    <!--    alpha 内部测试-->\n    <!--    beta 公测-->\n    <!--    release 稳定-->\n    <!--    GA 正式分布-->\n    <version>1.0-SNAPSHOT</version>\n    <!--    war zip pom jar 默认是jar-->\n    <packaging></packaging>\n\n    <name>项目描述名</name>\n    <url>项目地址</url>\n    <description>项目描述</description>\n    <licenses>证书信息</licenses>\n    <organization>组织信息</organization>\n\n    <properties>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <encoding>UTF-8</encoding>\n        <java.version>12</java.version>\n        <maven.compiler.source>12</maven.compiler.source>\n        <maven.compiler.target>12</maven.compiler.target>\n    </properties>\n\n    <!--    依赖列表-->\n    <dependencies>\n        <dependency>\n            <groupId>junit</groupId>\n            <artifactId>junit</artifactId>\n            <version>4.12</version>\n            <scope>test</scope>\n            <type></type>\n            <!--设置依赖是否可选 默认false-->\n            <optional></optional>\n            <!--排除依赖传递列表-->\n            <exclusions></exclusions>\n        </dependency>\n\n    </dependencies>\n\n<!--    依赖的管理-->\n    <dependencyManagement>\n\n        <dependencies>\n            <dependency>\n\n            </dependency>\n        </dependencies>\n    </dependencyManagement>\n\n\n    <build>\n\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-source-plugin</artifactId>\n                <version>3.0.0</version>\n                <configuration>\n                    <attach>true</attach>\n                </configuration>\n                <executions>\n                    <execution>\n                        <phase>compile</phase>\n                        <goals>\n                            <goal>jar-no-fork</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n\n        </plugins>\n    </build>\n\n<!--    父模块-->\n    <parent></parent>\n\n<!--    指定多个模块进行编译-->\n    <modules></modules>\n</project>\n```\n\n## 依赖范围\n\n![批注 2019-06-21 143028](/assets/批注%202019-06-21%20143028.png)\n\n## 依赖传递\n\n> A->B(compile) 第一关系: a依赖b compile B->C(compile) 第二关系: b依赖c compile\n\n## 依赖冲突\n\n- 短路优先\n\n  > A->B->C->X(1.0) A->D->X(2.0) 由于只能引入一个版本的包，此时Maven按照最短路径选择导入x(2.0) A->B->X(1.0) A->D->X(2.0) 路径长度一致，则优先选择第一个，此时导入x(1.0)\n\n```xml\n<!--排除B对C的依赖-->\n\n<dependency>  \n            <groupId>B</groupId>  \n            <artifactId>B</artifactId>  \n            <version>0.1</version>  \n            <exclusions>\n                 <exclusion>\n                    <groupId>C</groupId>  \n                    <artifactId>C</artifactId><!--无需指定要排除项目的版本号-->\n                 </exclusion>\n            </exclusions>\n</dependency>\n```\n\n## 聚合与继承\n\n- 聚合\n\n  ```xml\n  <modules>\n        <module>study-common</module>\n        <module>study-plugin</module>\n        <module>study-blog</module>\n        <module>study-web</module>\n    </modules>\n  ```\n\n- 继承\n\n  ```xml\n  <parent>  \n    <groupId>com.tiantian.mavenTest</groupId>  \n    <artifactId>projectA</artifactId>  \n    <version>1.0-SNAPSHOT</version>  \n  </parent>\n  ```\n\n## 创建web项目\n","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}