{"content":"# 小程序开发\n\n## 什么软件适合做小程序\n\n- 业务逻辑简单\n- 使用频率低\n- 性能要求低\n\n## 开发者工具界面\n\n- v1.02\n\n![批注 2020-02-09 155239](/assets/批注%202020-02-09%20155239.png)\n\n## 目录结构\n\n- 主文件\n\n文件       | 必填 | 作用\n-------- | -- | --------\napp.js   | 是  | 小程序逻辑\napp.json | 是  | 小程序公共设置\napp.wxss | 否  | 小程序公共样式表\n\n- 页面文件组成\n\n文件类型 | 必填 | 作用\n---- | -- | -------------------------------------------------\njs   | 是  | 页面逻辑 ( 微信小程序没有window和document对象 )\nwxml | 是  | 页面结构 ( WeiXin Markup Language，不是HTML语法 )\nwxss | 否  | 页面样式表 (WeiXin Style Sheets 拓展了rpx尺寸单位，微信专属响应式像素 )\njson | 否  | 页面配置\n\n## 分包\n\n- 整个小程序所有分包大小不超过 8M\n- 单个分包/主包大小不能超过 2M\n\n## 移动设备的分辨率与rpx\n\nrpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。如在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx = 375px = 750物理像素，1rpx = 0.5px = 1物理像素\n\n## 配置\n\n- 全局配置app.json控制整个程序的行为\n- 页面配置page.json控制单个页面\n\n## 组件\n\n- swiper\n\n## 页面注册\n\n### 生命周期\n\n![](https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png)\n\n- 生命周期回调\n\n```js\nPage({\n    // 启动页面后弹出消息\n    onLoad: function () {\n        wx.showToast({\n        title: '鸡你太美',\n        });\n    }\n})\n```\n\n## 视图\n\n### 数据绑定\n\n在小程序中，在js的data中定义变量\n\n```js\nPage({\n\n  // ..\n  data: {\n    msg: 'msg'\n  }\n  //...\n```\n\n可以在WXML中进行绑定，跟VUE一样，但是需要注意的是，这种绑定是单向绑定\n\n{% raw %}\n\n```html\n<view>{{message}}</view>\n```\n\n需要使用setData来设置或者更新数据\n\n```js\nthis.setData({msg:'abc'});\n```\n\n更复杂的用法\n\n```html\n<!-- 绑定属性（需要在双引号内） -->\n<view id=\"item-{{id}}\"> </view>\n<!-- 运算 -->\n<view hidden=\"{{flag ? true : false}}\"> Hidden </view>\n```\n\n- 条件渲染\n\n```html\n<view wx:if=\"{{condition}}\"> True </view>\n```\n\n```html\n<view wx:if=\"{{view == 'WEBVIEW'}}\">WEBVIEW</view>\n<view wx:elif=\"{{view == 'APP'}}\">APP</view> \n<view wx:else=\"{{view == 'MINA'}}\">MINA</view>\n```\n\n- 列表渲染\n\n```html\n<view wx:for=\"{{array}}\">{{item}}</view>\n```\n\n### 事件\n\n在WXML中绑定事件\n\n```htm\n<view class=\"moto-container\" bind:tap=\"onTap\">\n</view>\n```\n\n\n\n```js\nPage({\n  onTap(){\n    console.log('hello')\n  }\n})\n```\n\n#### bind与catch\n\nbind是冒泡，事件会往上传递\n\ncatch会阻止事件向上冒泡\n\n## 模块化\n\n- 模块导出\n\n```javascript\nfunction method1(){\n  console.log(\"123\");\n}\nmodule.exports.method1 = method1;\n```\n\n- 模块使用\n\n```javascript\nconst common = require('common.js')\n```\n\n### 模板template\n\n- 定义模板\n\n```html\n<template name=\"staffName\"> \n    <view>FirstName: {{firstName}}, LastName: {{lastName}}</view> \n</template> \n```\n\n- 引入模板\n\n```html\n<import src=\"item.wxml\" />\n```\n\n- 使用模板\n\n```html\n<!--           模板名           传入的对象  -->\n<template is=\"staffName\" data=\"{{staffA}}\"></template>\n```\n\n{% endraw %}\n\n## 页面间参数传递\n\n- 页面跳转\n\n```js\nwx.navigateTo({\n    url: './post-detail/post-detail?id='+id,\n})\n```\n\n```js\n  onLoad: function (options) {\n    // 这里可以拿到url的参数\n    console.log(options.id);\n  },\n```\n\n## 缓存\n\n```js\n// 设置缓存\nwx.setStorage({\n     key: '',\n     data: '',\n})\n// 获取缓存\nwx.getStorage({\n      key: ,\n      success: function(res) {},\n    })\n```\n\n## 全局变量\n\n- 在app.js中定义\n\n```js\nApp({\n  globalData: {\n    flag:false\n  }\n  //...\n}\n```\n\n- 使用\n\n```js\nvar app =getApp();\napp.globalData.flag= true;\n```\n\n## 路由\n\n- 三种路由方式\n\n```js\nnavigateTo\nredirectTo\nswitchTab\n```\n\n## 组件\n\n### 视图组件\n\n- view\n\n> 类似div\n\n### 基础组件\n\n- icon\n\n```html\n<icon type=\"success\"></icon>\n<icon type=\"search\"></icon>\n```\n\n- text\n\n```html\n<text>一段文本</text>\n```\n\n- progress\n\n### 表单组件\n\n- button\n\n```html\n<button size='default'>默认尺寸按钮</button>\n```\n\n- form\n- image\n- switch\n- slider\n- checkbox\n\n## 场景值\n\n- 代表是怎么来的\n\n## 视图层\n\n### WXML\n\nimport 的依赖无法传递\n\n- 嵌入\n\n```html\n<include src=\"header.wxml\" />\n```\n\n### WXSS\n\n- 单位\n\nrpx（responsive pixel）: 可以根据屏幕宽度进行自适应\n\n- 样式导入\n\n```css\n@import \"common.wxss\";\n```\n\n- 内联样式\n  - style与class\n  \n- 选择器\n  - .class\n  - #id\n  - element\n  - element,element\n  - ::after\n  - ::before\n\n- 全局样式与局部样式\n  - app.wxss 是全局样式，定义在page目录下的是局部样式","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}