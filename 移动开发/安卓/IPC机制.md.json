{"content":"# IPC机制\nIPC:进程间通信\n## 安卓中的多进程模式\n### 开启多进程\n在清单文件中添加：android:process\n```xml\n<activity android:name=\".Main2Activity\" android:process=\":p1\"></activity>\n```\n代表该activity以包名.p1作为进程名进行运行\n### 多线程造成的问题\n- 静态成员、单例模式完全失效\n- 线程同步机制失效\n- SharedPrerences可靠性下降\n- Application多次创建\n## IPC\n### Serializable接口\njava当中自带的序列化接口\n### Parceable接口\n实现接口：\n```java\npublic class User implements Parcelable {\n\n    private String name;\n\n    private int age;\n\n    protected User(Parcel in) {\n        name = in.readString();\n        age = in.readInt();\n    }\n\n    // 省略构造器\n\n    public static final Creator<User> CREATOR = new Creator<User>() {\n        @Override\n        public User createFromParcel(Parcel in) {\n            return new User(in);\n        }\n\n        @Override\n        public User[] newArray(int size) {\n            return new User[size];\n        }\n    };\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    @Override\n    public void writeToParcel(Parcel dest, int flags) {\n        dest.writeString(name);\n        dest.writeInt(age);\n    }\n\n\n    //省略toString\n}\n```\n这样，就可以直接在Intent中传送User类型的对象了：\n```java\nIntent intent = new Intent();\n                intent.setClass(MainActivity.this,Main2Activity.class);\n                intent.putExtra(\"user\",new User(\"小明\",15));\n                startActivity(intent);\n```\n## 安卓中的IPC方式\n- Bundle\n- 文件共享\n    *SharedPreferences本质：XML*\n- Messenger\n- AIDL\n- ContentProvider","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}