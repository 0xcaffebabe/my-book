{"content":"- 复用\n\n# 使用\n\n- 创建继承Fragment的类\n- 重写onCreateView方法\n- 绑定xml\n\n  ```java\n  View view = inflater.inflate(R.layout.fragment_title,null);\n  return view;\n  ```\n\n  ## 静态使用\n\n- 在xml中使用\n\n  ```xml\n  <fragment\n        android:id=\"@+id/main_fragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:name=\"wang.ismy.fragment.TitleFragment\"\n      />\n  ```\n\n# 动态使用\n\n- 老版本\n\n  ```java\n  button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                FragmentManager manager = getFragmentManager();\n                FragmentTransaction transaction = manager.beginTransaction();\n                transaction.add(R.id.title_layout,new TitleFragment());\n                transaction.commit();\n            }\n        });\n  ```\n\n- 新版本\n\n```java\ngetSupportFragmentManager()\n                        .beginTransaction()\n                        .add(R.id.title_layout,new TitleFragment())\n                        .commit();\n```\n\n_V4包_\n\n# 动态切换\n\n```java\nRandom random = new Random();\n                if (random.nextBoolean()){\n                    getSupportFragmentManager()\n                            .beginTransaction()\n                            .replace(R.id.title_layout,new TitleFragment())\n                            .commit();\n                }else{\n                    getSupportFragmentManager()\n                            .beginTransaction()\n                            .replace(R.id.title_layout,new ContentFragment())\n                            .commit();\n                }\n```\n\n# 生命周期\n\n![批注 2019-07-30 152358](/assets/批注%202019-07-30%20152358.png)\n\n# 通信\n\n## Activity 向 Fragment传值\n\n```java\n// Activity 端\nTitleFragment titleFragment  = new TitleFragment();\n                    Bundle bundle = new Bundle();\n                    bundle.putString(\"id\", UUID.randomUUID().toString());\n                    titleFragment.setArguments(bundle);\n                    getSupportFragmentManager()\n                            .beginTransaction()\n                            .replace(R.id.title_layout,titleFragment)\n                            .commit();\n```\n\n```java\n// Fragment端\nif (getArguments() != null){\n            textView.setText(getArguments().getString(\"id\"));\n        }\n```\n\n## Fragment 向 Activity 传值\n\n- 回调接口\n\n```java\nlinearLayout.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (listener != null){\n                    listener.onClick();\n                }\n\n            }\n        });\n\n\n///////////////\n\n\n public interface TitleFragmentClickListener{\n        void onClick();\n    }\n\n    public void setListener(TitleFragmentClickListener listener) {\n        this.listener = listener;\n    }\n```\n\n```java\n\ntitleFragment.setListener(new TitleFragment.TitleFragmentClickListener() {\n                        @Override\n                        public void onClick() {\n                            Toast.makeText(getApplicationContext(),\"click 111\",Toast.LENGTH_SHORT).show();\n                        }\n                    });\n```\n\n## Fragment 向 Fragment 传值\n\n```java\ngetFragmentManager().findFragmentById()\n```\n\n## ListFragment\n\n\n","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}