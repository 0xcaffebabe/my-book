{"content":"# SSO\n\n- 单点登录\n\n大型互联网公司中，公司旗下可能会有多个子系统，每个登陆实现统一管理多个账户信息统一管理 SSO单点登陆认证授权系统\n\n## 架构\n\n![202033184733](/assets/202033184733.png)\n\n浏览器访问client，client发现没有登录，跳转到server\n\n浏览器在server上进行登录认证后跳转回client\n\nserver回调client的时候，携带了一个session id，客户端可以使用这个session id向server查询来验证请求有效性，验证通过client会向浏览器写入cookie，登录成功\n\n## CAS\n\n> CAS 是 Yale 大学发起的一个开源项目，旨在为 Web 应用系统提供一种可靠的单点登录方法\n\n### 体系结构\n\n![2020123192036](/assets/2020123192036.png)\n\n### 原理\n\n![2020123192119](/assets/2020123192119.png)\n\n1. 访问服务：SSO客户端发送请求访问应用系统提供的服务资源。\n2. 定向认证：SSO客户端会重定向用户请求到SSO服务器。\n3. 用户认证：用户身份认证。\n4. 发放票据：SSO服务器会产生一个随机的Service Ticket。\n5. 验证票据：SSO服务器验证票据Service Ticket的合法性，验证通过后，允许客户端访问服务。\n6. 传输用户信息：SSO服务器验证票据通过后，传输用户认证结果信息给客户端。\n\n### 术语\n\nTicket Granting ticket (TGT) ：可以认为是CAS Server根据用户名密码生成的一张票，存在Server端\n\nTicket-granting cookie (TGC) ：其实就是一个Cookie，存放用户身份信息，由Server发给Client端\n\nService ticket (ST) ：由TGT生成的一次性票据，用于验证，只能用一次。相当于Server发给Client一张票，然后Client拿着这个票再来找Server验证，看看是不是Server签发的\n","commitList":[{"date":"2021-10-08T12:45:10+08:00","author":"cjiping","message":"doc开发期 构建期调整","hash":"704efe7455b7fb2fbd81ec60099191ff982e639a"},{"date":"2021-10-07T19:38:58+08:00","author":"My","message":"init","hash":"4e0456332231ba0523aa526415f9982377358870"}],"hasMoreCommit":false,"totalCommits":0}